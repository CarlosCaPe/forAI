Content.1 Glosario	2.2 Control de versiones del documento	2.3 Objetivo del documento	3.4 Flujo y estado actual	3.5 Flujo y estado futuro	3.6 Objetivo del proyecto	3.7 Valor estratégico del proyecto y sus beneficios	3.8 Supuestos	4.9 Stakeholders	4.10 Prueba de concepto	4.11 Diccionario de relación de valores	4. . .1	Glosario
#	Palabra o acrónimo	Descripción/Significado.1	Hermes 	Aplicativo punto de venta que usa MAXI en las agencias el cual es operado por un agente (en una agencia) o el equipo de ventas telefónicas..2	Back Office	.3	Stakeholder	Es la parte interesada que puede influir o verse afectada por un proyecto..4	Usuario de proyecto	.5	Product Owner	Es un miembro del Equipo Agile que es responsable de maximizar el valor entregado por el equipo y garantizar que el Backlog del Equipo esté alineado con las necesidades del cliente y de las partes interesadas.Es el encargado de obtener el máximo valor posible al mínimo costo..6	Business Analyst	Se encarga de recopilar e interpretar datos procedentes de diversas fuentes y los utiliza para mejorar los sistemas y procesos de la empresa..7	DEV/Developer	Es la persona experta en escribir código, es decir, idear el conjunto de secuencias de órdenes que llevan a un sistema informático a realizar una acción concreta.8	Tester	Es la persona dentro del desarrollo de software que se dedica a comprobar si el producto final funciona de acuerdo con su especificación..9	Cancelación de transacción	Reembolso solicitado a petición del cliente consumidor.10	Rechazo de transacción	Reembolso no generado a petición del cliente consumidor.11	Zeus	Sistema utilizado para administrar y dar seguimiento a las transacciones procesadas por nuestros Agentes..12	Commission Retain	Comisiones que cobra el agente al momento de la transacción. 
Ejemplo, si el agente recibe una remesa de 100 USD,  y el fee es de 10 USD, la comisión del agente es de 5 USD: El agente solamente deposita a MAXI 105 USD..13	Commission Monthly	Comisiones que se acumulan y se pagan en una sola exhibición al final del mes..
Ejemplo, si el agente recibe una remesa de 100 USD,  y el fee es de 10 USD, la comisión del agente es de 5 USD: El agente deposita a MAXI 110 USD. Donde los 5 se acumularán al final del mes..14	Bonus o “Special commission”	Negociación especial y comercial que genera un pago adicional al agente. 
Ejemplo: Si se acuerda un 1 USD por transacción.
Ejemplo 2: Si se acuerda un 1 USD por transacción a México..15	Operación Bruta	Número de transacciones creadas sin discriminar algún tipo de estatus. .16	Operación Neta	Número de transacciones creadas menos transacciones canceladas, rechazadas.17	Transacción Cancelada	Son las transacciones canceladas a petición del consumidor o del área de cumplimiento o el agente en caso de posible fraude..18	Transacción Rechazada	Son las transacciones no admitidas por el pagador o por MAXI..19	Transacciones Unclaimed	Transacciones que no han sido cobradas en un plazo de N días y son canceladas con el pagador y puestas en un estatus “Unclaimed” para esperar instrucciones del cliente para su reembolso o para volver a hacer la transacción (reenvío)..20	Reference exchange rate	Es el tipo de cambio de referencia que se establece en el día para cualquier moneda que se esté operando. Se establece a nivel pagador o a nivel agregador. Esto se realiza por país, y puede haber más de uno en un solo país..21	Customer exchange rate	Es el tipo de cambio que el agente le ofrece al cliente (Puede estar modificado por el Flex). Esto es por pagador, es decir, dependiendo del país destino y del pagador es el rate que se le ofrece al consumidor..22	Agent Exchange Rate (Original)	Es el tipo de cambio que Maxi le da al agente. .23	COGS	Cost of goods sold. Costo de lo vendido
Su fórmla es:COGS= Amt(en dólares) (Customer exchange rate) / Reference Exchange rate.24	Flex	Es el monto que el agente ajusta al tipo de cambio por el monto de la transacción. Puede ser positivo (cuando baja el tipo de cambio) o negativo (cuando sube el tipo de cambio)
Formula: .Flex= [(Tipo de cambio para el agente)-(Tipo de cambio establecido por el agente)] X Amt (Dólares)/ (Tipo de cambio para el agente).Ejemplo:.Tipo de cambio para el agente = 18.80.El agente utiliza el flex y lo pone a 18.75, entonces 0.05 X 100 dólares/18.80.. .b.	.2	Control de versiones del documento
Versión	Cambios realizados	Autor..1	Creación del documento 16 Marzo 	Felipe Véliz en conjunto con Joyce Arias
Nota: Las versiones del documento relacionadas a un número entero representan una aprobación del documento por los usuarios, de manera contraria, cada número de versión con decimales representan cambios realizados sin aprobaciones. 
3	Stakeholders
#	Rol	Nombre	Fecha de aprobación del documento.1	Usuario del proyecto	Luis Cerrilla	Pendiente de aprobación.2	Usuario del proyecto	Adrian  Adrian Pérez	Pendiente de aprobación.3	Usuario del proyecto	Jean Paul Haddad.Pendiente de aprobación.4	Hermes Product Owner	Miguel Mendoza	Pendiente de aprobación.5	Stakeholder	Laura G Estrada.Pendiente ver con Laura G Estrada para ver si su área usa el profit.6	Business Analyst	Felipe Veliz Rosas & Joyce Arias Rosendo. N/A.7	BI Lead	Guadalupe Leon Ruiz	N/A.c.	. .4	Objetivo del documento.El presente documento tiene como objetivo la definición total de los requerimientos del proyecto “Nuevo Profit”. El documento servirá para clarificar todo lo que el negocio y los usuarios necesiten, así como también, una vez terminada la primera iteración de especificación de requerimientos, este documento servirá como “entrada” para una descomposición funcional, lo cual básicamente es dividir todos los requerimientos en historias de usuario para ser asignadas al equipo de desarrollo. Este documento será desarrollado por el business analyst del proyecto y deberá ser verificado y validado por los usuarios. Una vez validado por los usuarios, este documento será el insumo principal para explicar al equipo de desarrollo el alcance del proyecto, y así iniciar con las actividades de codificación..5	Problemática actual del negocio 
■	Actualmente no están “cuadrando” algunos reportes internos, por ejemplo el reporte “Agent Balance” no cuadra con Profit (el caso de accounting). Este descuadre o diferencias puede ser por las comisiones retain de los envíos cancelados..■	No se tiene un “cuadre” de “Reporte Profit” versus el “Reporte Dashboard Ventas” (próximamente “Operating Report”).■	Se han creado reportes nuevos y han habido nuevas funcionalidades, sin embargo, no se han actualizado todos los reportes con nuevas funcionalidades a la par..■	El profit report tiene una división de comisiones retain y de comisiones monthly, sin embargo, el resultado no es correcto (el issue es que si lo cambia la forma de pago de comisión a mitad de mes, el profit actualmente te arroja todo en un sola categoría en vez de separarlo).  Pendiente agregar ejemplos reales  (Verificar esto con Cecilia Guzman).■	Cálculo de márge nes de utilidad (columna margen y profit) no coinciden con cálculos externos. Por ejemplo, con el cálculo basado en estados financieros..■	El Bono o “Special Commission” se está aplicando a nivel agencia en lugar de aplicarse a nivel transacción. .Nota para IT: Se deberá tener un subproyecto que corrija este tema.  .■	La columna “Bonus” no arroja montos reales  debido a que aritméticamente no está realizando el cálculo correcto. Un ejemplo el bono se registra como gasto de un solo día cuando debería corresponder a un mes completo (no se aplica prorrateo). .Nota para IT: Se deberá tomar en cuenta en la lógica el nuevo campo de bonus que en el futuro existirá de manera correcta.
6	Valor estratégico del proyecto al negocio y sus beneficios
■	El aseguramiento de la información financiera y operativa de la empresa..7	Alcance
1.	Code: .a.	Código que representa a la agencia..b.	El código deberá tener una longitud de 8 caracteres completando con ceros a las izquierda los que sean menores. Ejemplo: 0029-SC deberá ser 00029-SC. Nota: Este cambio es necesario para el orden de todos los reportes que se generan en MAXI. .2.	Name: .a.	Nombre de la agencia..b.	Verificar la expresión regular debido a que no puede estar todo en mayúsculas o todo en minúsculas, el deber ser es, la primera letra en mayúscula y el resto en minúscula de cada palabra. Ejemplo: La Michoacanita .3.	Sales Rep: .a.	Repre sentante de Ventas.b.	Cambio de nombre, ahora se llama Sales Rep que anteriormente solo era Rep..c.	Se deberá tener vinculado el histórico relacionado al vendedor real. Es decir, si cambia de representante de ventas, deberá salir 2 líneas, una con el representante anterior y el representante actual con su operación correspondiente a ese periodo..d.	Nota y referencia para IT: Verificar la tabla AgentMirror para este requerimiento..e.	Actualmente hay un error debido a que hay un espacio al terminar el nombre/apellido. Esto es ocasionado posiblemente al concatenar el segundo apellido..f.	Asegurar que no haya 1 representante con nombres diferentes (verificar los 2 casos, que no haya 1 ID asociado a 2 nombres y que no haya 2 ID y que sea la misma persona). Verificar entre IT y Ventas..4.	No. Total.a.	Número total de operaciones brutas en el periodo solicitado.5.	No. Can/R (esta columna se elimina del reporte, se separa para tener las operaciones canceladas y las rechazadas).a.	Número total de operaciones canceladas o rechazadas..6.	No. Cancelled (columna nueva).a.	Número total de operaciones canceladas.b.	Esta columna se agrega al reporte.7.	No. Rejected (columna nueva).a.	Número total de operaciones rechazadas.8.	No. Net	.a.	El número neto es el número total de operaciones menos el número total de operaciones canceladas menos el número total de operaciones rechazadas.b.	Fórmula actual:.No.Net = No. Total - No. Can/R.c.	Fórmula futura:.No.Net = No. Total - No. Can - No. R.9.	Amt Total.a.	El número neto es el número total de operaciones en dólares menos el número total de operaciones canceladas o rechazadas en dólares..b.	Fórmula actual:.No.Net = No. Total(en dólares) - No. Can/R(en dólares).c.	Fórmula futura:.No.Net = No. Total - No. Can(en dólares) - No. R(en dólares).d.	Nota: Actualmente hay un problema con transacciones “re-vividas”, éstas son transacciones que fueron canceladas o rechazadas en un periodo anterior y cambian a un estado en “tránsito” en un periodo posterior. Este problema se deberá resolver a medida que, cuando se reviva una transacción en periodo actual y ésta transacción fue creada en un periodo anterior, se deberá contemplar en el periodo seleccionado del profit (no con base en la fecha de creación, si no con base en la fecha de cambio de estatus)..Ejemplo, si una transacción se canceló en enero (fila 4 de la sig imagen) y “revive” en febrero, se deberá tomar en cuenta en el profit de febrero.. .10.	Amt Can/R (se elimina esta columna).a.	Número total de operaciones canceladas o rechazadas en dólares. No incluye fee.11.	Amt Canceled (columna nueva).a.	Monto en dólares del número total de operaciones canceladas..12.	Amt Rejected (columna nueva).a.	Monto en dólares del número total de operaciones rechazadas..13.	Amt Net.a.	El número neto es el número total de operaciones en dólares menos el número total de operaciones canceladas menos el número total de operaciones rechazadas en dólares..b.	Fórmula actual:.Amt Net = No. Total(en dólares) - No. Can/R(en dólares).c.	Fórmula futura:.Amt Net = No. Total - No. Can(en dólares) - No. R(en dólares).14.	COGS Total.a.	Es el costo, es el envío al Customer Exchange Rate. Se hace la conversión de la transacción por el Tipo de cambio de referencia menos el tipo de cambio que se le ofreció al cliente (Customer exchange rate).b.	Por ejemplo, si se tiene un envío de 100 dólares. El tipo de cambio de referencia es 19 MXN, el Customer exchange rate es de 18.80 MXN. La transacción al final queda en 1,880 MXN, estos pesos se convierten a dólares al tipo de cambio de referencia (en dólares) y así se obtiene el COGS=98.9473684 dólares. En el Profit se muestran únicamente 2 decimales, es decir 98.95dólares..c.	Fórmula COGS= Amt(en dólares) (Customer exchange rate) / Reference Exchange rate con base en el ejemplo anterior sería: COGS=100(18.80)/19.15.	COGS Can/R (se elimina esta columna).16.	COGS Can (columna nueva).e.	Son las transacciones COGS canceladas.17.	COGS R (columna nueva).a.	Son las transacciones COGS rechazadas.18.	COGS Net.a.	El número neto es el número total de operaciones en dólares menos el número total de operaciones canceladas menos el número total de operaciones rechazadas en dólares..Fórmula actual:.COGS Net = COGS Total(en dólares) - COGS Can/R(en dólares).Fórmula futura:.COGS Net = COGS Total - COGS Can(en dólares) - COGS R(en dólares).19.	FX.a.	Es el monto neto menos COGS neto. Es la utilidad en los cambios..FX = Amt Net - COGS Net.20.	Total Fee.a.	Es el fee que se le cobra al cliente por cada transacción. .b.	Incluye fee en caso de envíos pagados con tarjeta de débito..21.	Fee Can / R (esta columna se elimina).a.	Es el Fee de las transacciones canceladas o rechazadas.22.	Fee Can (columna nueva).a.	Es el Fee de las transacciones canceladas.23.	Fee Rejected (columna nueva).a.	Es el Fee de las transacciones rechazadas.24.	Cash Discount (esta columna se elimina).a.	Este descuento ya se considera en el Net Fee, por lo que ya no es útil tener esta columna en el Profit Report. Se cobra 2.5 dólares a las transacciones con tarjeta de débito/crédito..25.	Net Fee	.a.	Monto total de fee menos fee cancelaciones, fee rechazos..b.	Se incluye la comisión si un cliente pagó con tarjeta de débito. Ejemplo: envío con método de pago TDD de hasta 1000 dólares, se cobran 2.5 dólares de comisión..c.	Fórmula: Net Fee = Total Fee - Fee Can - Fee Rejected - Cash Discount (considerar el historial).26.	Com Month (ToBe: Com Monthly).a.	Es el monto que se le paga al agente, pagador por pagador y transacción por transacción. Mensual.b.	Tomar en cuenta la Fecha si hay cambio de comisión para considerar el histórico que corresponde a lo mensual y a lo Retain..27.	Com Month Add (ToBe: Flex monthly).a.	Es la variación que hace el agente al tipo de cambio, puede ser positiva o negativa..b.	Si el tipo de cambio a la agencia es 18.40 y el agente lo cambia a 18.35 entonces Flex monthly= [(18.40-18.35) X 100]/18.40.c.	Fórmula: Flex Monthly = [(Agent exchange rate - Customer exchange rate) X Amt (Dólares) ] / (Agent exchange rate).28.	Com Ret (ToBe: Com Retain).a.	Es el monto que se le paga al agente, pagador por pagador y transacción por transacción. Retain.b.	Tomar en cuenta la Fecha si hay cambio de comisión  para considerar el histórico que corresponde a lo mensual y a lo Retain..29.	Com Ret Add (To Be: Flex Retain).a.	Es la variación que hace el agente al tipo de cambio, puede ser positiva o negativa..b.	Si el tipo de cambio a la agencia es 18.40 y el agente lo cambia a 18.35 entonces Flex retain= [(18.40-18.35) X 100]/18.40.c.	Fórmula: Flex Retain = [(Agent exchange rate - Customer exchange rate) X Amt (Dólares) ] / (Agent exchange rate).30.	Bonus.a.	Son los bonos que se le pagan al agente de forma especial..i.	Bono por meta: Si el agente llega a la meta establecida, se da un bono. Ejemplo: un dólar por envío si llega a 300 envíos. Ejemplo: bono escalonado por cada 200 envíos, se paga 200 dólares..ii.	Bono por envío: Se paga un bono por cada envío. ejemplo, un dólar por envío..iii.	Bono por país o pagador de destino: Ejemplo: Dólar por envío a México. Ejemplo: Dólar por envío a Soriana..b.	Hoy se registra a nivel agencia pero debería ser transacción por transacción. Cuando el profit se genera a nivel por agencia no hay problema, sin embargo, cuando se genera en cualquier caso diferente, se deberá sumar el bonus transacción por transacción..31.	DC Tr (Debit Card Transactions, ToBe: N° DC Tr).a.	Número Neto de transacciones con el método de pago Debit Card.32.	Merchant Fee.a.	Es lo que Maxi paga por el uso de tarjeta de débito por transacción..33.	Payer Fee.a.	Los que el pagador cobra a Maxi por la transacción pagada..34.	Unc Amt (Se elimina esta columna en el ToBe).a.	“Amount Net” de transacciones que el sistema cambió su estatus a “unclaimed hold” debido a que pasó el tiempo de espera para su cobro..35.	Unc COGS (Se elimina esta columna en el ToBe).a.	Es el monto de “COGS Net” de transacciones con status “Unclaimed hold”..36.	Credit.a.	Cantidad en USD que se le acredita al balance del agente. El concepto de estos créditos son misceláneos..37.	Debit.a.	Cantidad en USD que se le debita al agente en su balance. El concepto de estos débitos son misceláneos..38.	Profit.a.	Se modificará la fórmula a manera de que sea la siguiente:.b.	Fórmula to be: FX + Net Fee - Agent commission (Com Monthly, Com Retain, FLEX Monthly, FLEX Retain, Bonus) - Payer Fee..39.	Margin.a.	La fórmula será la siguiente:.b.	Fórmula: Profit/No. Net.40.	Manager.a.	Se elimina del reporte..41.	Country	.a.	Nombre del país destino..b.	No se modificará..42.	Country/Currency.a.	Se deberá especificar el tipo de moneda de pago..Filtros:.●	Begin date.●	End date.●	Group by.●	Country/Currency.●	Rep.●	State.●	Payer (Nuevo, por ejemplo todos los tipos de Elektra).○	Payer Division (NUEVO ejemplo Elektra 800). Dependiendo de la selección de payer, será las opciones de este subfiltro.. .Pendiente agregar tabla de pagadores agrupados. Luis nos la va a pasar. .Nota: independientemente de la agrupación en que se genere el reporte, deberá coincidir con el total no Group by..f.	
8	Planificación del proyecto.Para mitigar riesgos, el proyecto ha sido dividido por fases, lo que quiere decir que habrá X número ciclos de desarrollo, pruebas y pases a producción.
9	IT Notes
➔	Se creará el desarrollo sobre SQL Server desde cero, es decir, no se tomará como base lo desarrollado del profit actual..➔	Profit 2 no se comunicará con otros sistemas. Es su fase inicial,  solo se descargará para que los usuarios los puedan visualizar y manipular. Las integraciones que tienen otros sistemas a profit 1 no se modificarán en la primer fase del proyecto..➔	Se estiman 3 meses como mínimo para el desarrollo del proyecto en su primer fase..➔	La aplicación Zeus será el front end de cual se descargará profit 2. Profit 1 no se modificará y podrá seguir siendo consultado desde Chronos..➔	Recursos:.◆	Lupita - BI Leas.◆	Carlos - Querysta.◆	Christian Segura - Front End DEV.◆	Nallely - UX/UI.◆	Andrés Robles - Back End DEV.◆	Héctor Quevedo -  Scrum M..◆	Felipe y Joyce - BA.➔	Limpieza de columnas Agent Code - En la fase 1 no se modificarán códigos de agentes en la base de datos debido a que habría problemas con las integraciones a otros sistemas. En la fase 1 se pondrán los ceros a la izquierda en el reporte al momento de generarse. Esto aplica en el código de la agencia y en los demás campos de la base de datos que se solicitan modificar. Es decir, los cambios en el formato de los códigos será visual en el reporte pero no en la base de datos de MAXI..➔	La parte de las pr   uebas las deberá realizar el usuario en el piloto de profit 2, es por eso que el profit 1 seguirá estando disponible..➔	En el piloto y pruebas, el reporte lo generará IT bajo demanda del negocio. Al finalizar el piloto el profit 2 se podrá descargar desde ZEUS..➔	Levantar tarea para la agrupación de pagadores, hablar con Daniel Villareal que lleva Pagadores, para que le informa al equipo de pagadores que se va a meter ese campo adicional. Pedirle a Daniel que haga el requerimiento para que se incluya en Cronos para los pagadores..➔	Se modificará en Chronos las categorías de pagadores (Payer y Payer Division) en el proyecto de pagadores..
-->chat from  teams.".Milton bueno como te comentaba esto es la actual versión de profeta Entonces por de faul cuando se muestren pantallas a mostrar por agencia no la agrupaciones por agencia y los cálculos se van a hacer a ese nivel de agencia este te muestro en el Excel de cómo cómo se encuentra en este momento el reporte Esta es la .el Excel que arroja la pantalla no viene el código de la agencia viene su nombre viene el representante porque no sé si recuerdas que te comenté este las agencias son por ejemplo en Texas tenemos no sé .200 agencias es un número no hay más los dos tenemos 200 agencias que son de De Miguel Alomejor 50 de Julio 20, entonces así van a compartir agencias algún Perdón van a compartir estados algunos agentes, .pero la agencia solamente tiene un representante y ese representante tiene muchas agencias, no Esa es la relación del ser en la en la tabla de ella te vas a encontrar por ahí con un ID user ID user salir algo, así se llama el campo, es es este es el representante que si tú vas a la tabla yusaria casa del nombre, no? .Entonces este con ese aire y ya sabes a qué agencia pertenece igual que representante pertenece dicha agencia Entonces ya que tienes este, pues las agencias, pues ya se empiezan a sacar todos los números, no Qué es cómo está funcionando en este momento el profeta actual Entonces al generarse. En pantalla este cómo te comentaba? .Bueno, diversos filtros entre ellos estado representante y y este país o moneda o también Pues las agrupaciones que son por país o por moneda en esta nueva versión se agregaron algunos filtros ahorita los vamos a ver en el requerimiento, no .voy a ponerle para verlo en pantalla para que veas cómo se ve. Esto que se va a desplegar es Power bi algo de los reportes de Peyton que me había dicho este este está hecho ensayar y este, pues ya la versión huevos angular .ya este ya va todo lo que html, pero este encías es echarle delvac, entonces después lado. El nuevo el nuevo proyecto que se llama Zeus sí está hecho en python, entonces Este sí, esa esa nueva versión tuya Ya vamos a poderla está hecho .las apis. Se están desarrollando tus los compañeros No en este caso Andrés del equipo y Chucho con la parte de la Pillo creo que nos va ayudar, pues no sé, tal vez Andrés este ya que termine el proyecto. Yo creo que para cuando el terminé el proyecto que está ahorita .Supongo que los datos pues ya más o menos los vas a traer tu este desarrollados también no con los datos que arroja el ese precio le vamos a decir a el Cuáles son los parámetros que recibe Y qué es lo que .arroja y cuál es su nombre de ella lo va a jalar en la en la PC Hasta ahí acaba nuestro trabajo ya en ese momento entra a la parte del Front que esté de es Cristian segura y él va a hacerlo lo que es visual ya la parte de los filtros en la interacción con el usuario y todo y pues la pantalla este, pues hacia el equipo de .nadie es este, pues ya se encargan del diseño, no para hacerla todo todo muy parecido a lo que se usa el entorno dulces en este momento en nuestra fuente de datos va hacer, pues sql esté reportes en tiempo real tenemos un tema con los reportes, no? Porque hay unos reportes que se generan en tiempo real y hay otros que se que se van este plasmando en ciertas tablas y .aquí es donde entra un tema del del descuadre de cifras que le llaman. Además también puede que no sé. No se pinte en una tabla pero si un reporte se saca, por ejemplo, en este momento principios de junio y .luego se vuelva a sacar a fin de junio, no va a haber no va a cuadrar porque porque tenemos transacciones que ahorita este momento 6 de junio todavía no han sido pagadas, pues es para fin de junio, ya van a estar pagadas y van a .afectar las cifras, no Entonces por ahí tenemos que hacer un análisis de encontrar la forma de dejar huella, de qué es lo que se está quedando por fuera Cuáles son las Cuáles son las transacciones pendientes y cuál es este en algún punto .se están pagando, no? Porque por ejemplo hay un reporte que es el que está haciendo Andrés que se llama en ML es ese reporte todos los días. En la noche corre un proceso y se queda guardadas todas las pagadas todas las cazuelas son las rechazadas, Qué son los estatus finales, no? Y .todas las que están pendientes este, pues no no se consideran hasta que al día siguiente si ya se pagaron el día siguiente que ya se consideran en ese momento no Entonces ese es un tema que que tenemos que analizar como equipo a ver cómo lo podemos aterrizar .Porque si si recuerdas que en la escuelita de base de datos venían por ahí varios estatus, entonces hay unos estatus que se consideran este como como finales, Qué son los lo pagado lo que hace helado y lo rechazado no .Esos son los tres estados que se considera finales también por ahí hay uno uno que se llama un klen klen complete que al final de este para nosotros es como una pagada, no? Entonces esos estatus. Figuran como ya lo cerrados, .pero si un reporte se saca de día a día esos estatus todavía no están a lo mejor considerados porque porque todavía están en los otros estatus en la transacción el día de hoy Si hoy sí es una transacción puede que realmente todavía no se haya no haya sido pagado el beneficiario IVA aceradas. Al tal vez Hasta mañana. .Hasta mañana se va a considerar como pagada no entra en el diario, si me explico entonces ahí Esos son los que debemos de cachar, cómo lo podemos hacer? Porque en este momento te digo, estamos haciendo sumatorias Y .si se cachan algunos hoy para mañana, este se cancelan tal vez y afecta en lo que entró entonces ahí ahí hay un tema necesitamos te digo resolverlo. Yo creo que como equipo Podemos hacer como una lluvia ideas este deber Cómo podemos atacar está está. .Ese tema que viene doliendo desde toda la vida, no Entonces tenemos que determinar una lógica de para que nuestros reportes cuadre, porque en este momento existen muchos reportes mucho no cuadra no O sea está entre si no cuadra, pero este ya es un tema de lógica, no esté porque ahorita si lo género de esta forma y luego le pongo .agrupar por país no va a cuadrar Pero porque la lógica no está, no está bien definida este por ahí Creo que tú ya hiciste una una adecuación a la escribí, ya te estaba cuadrando, no, Entonces eso hay que considerarlo para esta nueva versión .es bueno mi versión que se pretende se aprende se pretende hacer del Estero la el reporte desde cero. Conteste por aquí tenemos y pues ya te comenté estas tres primeras columnas. Luego tenemos las transacciones totales, .que en esta este están contando todas las transacciones por su fecha que se hizo la transacción, no, que este que esa fecha está dentro de este 26 y el en Dayton aquí tenemos por ejemplo que la 152 está 020 desde prueba, no la 152 ISO 125 transacciones .entre el día 1 y el día 7 de junio o totales Luego de eso 125 se cancelaron 4, sí o se retrasaron aquí en este en este reporte están como canceladas y rechazadas están en un mismo grupo. Pero en el nuevo reporte es el requerimiento, es que en una columna están las canceladas y en otra columna están las rechazadas, o sea, por ejemplo, si de estas .43 son canceladas, van a venir número de transacciones canceladas, 3 y número de transacciones rechazadas, una y transacciones neta, pues la 125 - las 3 canceladas menos la 1 rechazada Y tenemos un total de 121 transacciones netas, no .luego tenemos el amante el amante es el total que enviaron los clientes de esa 125 transacciones representan un total de dinero de $61270, pero de esos $61270 se cancelaron $3115 o $3115 representan a estas cuatro que .igual. Tenemos una cancelada Tenemos aquí agrupado canceladas y rechazadas en el nuevo reporte se está pidiendo que se separen también, por ejemplo 7 estás 3115 transacciones tres serán cancelados y representa un total de más de $2000. Aquí va a venir a Mau cancelado $2000 y el amante rechazado .1115, no, que a lo mejor representa a la una que se canceló, si me explico si bien, entonces el ama uned va a ser el Amando tal menos aman cancelado y amaund este rechazado ya no salgamos net por acá. Tenemos el Cox este cosa es una fórmula que por acá debe venir definida, no, .no sé si quieras que sigas picando, te reporto o vamos con con el documento y quieres con el documento. Bueno, el codem, pues es el código de la agencia, no representa el la primer columna que esté, por ejemplo, tú está el 0029 es este viene siendo el estado, .Zócalo este es este es en la tabla de transfer. Tenemos una idea, es la conexión con ella, en dónde se encuentra Pues el ID a ella en la relación y tenemos por ahí un ella en State es ella en este este este .este este si quieres saber el nombre del estado la relación es ella en este con la tablet, State y the State is status, si tú sabes que hay en este ya viene el nombre Entonces si tu relación es Ice s&s CD State ya va a decir so Caroline .Gracias por aquí, ya tenemos es Seré algo muy importante también que hay que considerar, no en el reporte que esto pues Seguramente se va hacer al final ya al momento de mostrar el reporte como tal no nosotros todo .internamente en la base de datos. Lo manejamos con ID allá, pero para el usuario final lo que ellos les importa es el es el código Pues en este momento la agencia está conformada hasta que llegas 0029 .sc. Este por requerimiento para este nuevo proyecto se está pidiendo que se agregue un cero porque porque tenemos agencias que son nuevas Entonces por ejemplo, aquí citas cuenta la se está ordenando por por el elencos .Entonces si lo ordenamos así Todo bien 000 Hasta aquí. Aquí es donde empieza el tema porque Delano 962 se brinca a la 10000 y eso no es lo correcto, porque la 10000 es relativamente las más nuevas debería de brincarse a la .1004 Las mil deberían de seguir aquí en esta en esta parte del del donde se acaba Este deberías ir Las mil entonces para eso se está pidiendo que se agregue solamente visual que se agregue un dígito más de tal forma que se puedan este, pues agruparia Cómo deben, o sea, por ejemplo la 0 1000 para que crea que no Lázaro mil Pero mil 10 minutos así hasta llegar a la 10,00, .este esto se quería que se hiciera. Desde el catálogo de agencias pero ese tema, pues implica muchos cambios, entonces de momento se pidió que se hiciera visual solamente el cambio para poder ordenar, sé cómo debe de quedar en ella en Cono .para tenerlo en cuenta y pues ya el nombre es el nombre de la agencia. Es este, Ah okay, Ahí en este tema del nombre hay que ya le moví hay que hacer limpieza porque hay algunas agencias que traen por ahí algún apóstrofe que trae este espacios al inicio espacios al final .entonces. Te piden también que se la primer letra que sea mayúscula y el resto de la palabra que sea minúscula todo esto, pues yo me imagino Pues es de lo último que se Al momento de hacer el reparto como tú lo quieras hacer si lo quieras hacer inicio, ya es tu lógica Y cómo vas a .plasmarlo en lcp, no? Pero pero para que lo tengas en cuenta, entonces este el seis red también es un tema que el nombre a veces viene viene con espacios al inicio y Y eso pues a veces hace que se repita o que no lo encuentren Bueno entonces hay que limpiarlo hay que .este puedes quitarle todos los caracteres raros que vengan tanto al name como al 6 represas, por ejemplo, aquí dice, deberá tener vinculado histórico aquello que este tema. Se deberá tener vinculado al histórico relacionado El vendedor, real, es decir si cambia de representante de ventas deberán salir dos líneas una con el representante anterior y una con el representante nuevo .y con su operación correspondiente los de cuenta, si por ejemplo, si por ejemplo en este periodo que tenemos aquí está agencia tuvo dos representantes va a venir dos veces porque a lo mejor tuvo del 6 al 3 de junio Julio fue su .su representante Pero el 3 cambio y ahora es Juan Entonces éste lo que están pidiendo es que venga 2 veces la agencia y con cada representante no hizo su operación correspondiente a cada representante social 1 al 3 ISO 100 transacciones. .Y fueron del representante Julio Ramírez entonces del tres. Al seis a lo mejor ya era de Juan pero hizo las otras 114, no? Entonces así es cómo cómo se va a mostrar, porque para tenerlo en cuenta también, .pero luego qué más por aquí Bueno se cambia el nombre de la red. Ahora soy Amazon red este notarlo, suprayectiva, dificar, okay. Okay. Okay, Es que sabes el tema aquí con el histórico es que puede ser que .en ella va haber un tema que en ella tenemos. Solamente una y dice Elder en tonces este si por ahí y tenemos un ID user Styles algo, así se llama el alcano que se dice cambio no la vas a ver en el catálogo de ella .porque se cambia y quedan nuevo, no Entonces para tu cachar esos cambios de representante tienes que ir a una tabla que se llama a John Miller esa tabla y en mi error cualquier cambio que se le hace a la tabla de ella queda registrada .nada que tiene muchos registros, Porque si hoy este cambio de estatus tres veces o cambio de nombre o cambio de dirección o cualquier puntito que le han cambiado va a quedar guardado en ese histórico de ella miro, no? .Entonces para cachar el histórico de cuál cuál representantes tenía este tienes que irte a esa si ella miro porque te digo si tú haces el transfer, no existe el representante Entonces no hay manera de sacarlo de ahí ahí solamente viene ley entonces para ella viene Legend solamente está el actual no dice como que a este hubo cambio ni nada, no .histórico va a ser ella en micro en el tema de los espacios que te comenté en el nombre y el apellido. Asegurar que no haya un representante con nombres diferentes o qué? este este tema lo podemos ver con ventas .para si te encuentras Esto me me pasas por fa la la información de que si por ejemplo yo ya me lo apagó y lo reportado no, porque pues nosotros no podemos mover la Pero hay un Juan Francisco morales y hay un Juan F morales .y tienen diferente ID y es la misma persona lo sé, cuando veas algo medio raro en ese en el nombre del representante este, pues me dices y ya validamos y es el mismo representante o es uno diferente si es el mismo, pues se tiene que que levantar .una incidencia con ventas para que ellos no lo modifiquen, no? Porque pues nosotros directamente, pues no. Nosotros nada más somos empleados no Dueños del Ándale nosotros solamente los mostramos el total, pues ya es el número total de transacciones brutas, qué es lo que te comentaba son todas las que se hacen nuestra fecha .de los parámetros van relacionadas a la de ellos transfer, Qué es la fecha de creación de la transferencia, la cancelación, Fíjate que aquí en este en esta parte de no es que te iba a comentar el tema de los .de los husos horarios, pero no los mencionaron y yo creo que no le sabe pegar a ellos, pero en cumplimiento sí pega el tema de los husos horarios porque pues uno a York Son 5 horas de diferencia con otros estados del mismo Estados Unidos No pues es este. .Pues aquí lo lo seguimos manejando con la hora de Dallas Qué es la que está por de faul en el en el servidor. Bueno, número total de transacciones son las brutas las canceladas rechazadas que esta columna se va eliminar y sale la nueva columna, no que se hasta .que lo que te comentaba ahorita viene agrupado, pero se va a separar canceladas y rechazadas y pues las netas son la diferencia entre las brutas menos canceladas, menos rechazadas, aquí viene la fórmula .de la empresa es lo mismo pero en dólares. Y luego cancelado rechazadas, este se separan también en canceladas y rechazadas y pues ya forman en la moneda, el coxcox es el costo. Échale envío al customer experience raid es el costo del envío, no .se hace una conversión de la transacción por el tipo de cambio de referencia menos el tipo de cambio que se le ofreció al cliente. Tenemos varios tipos de cambio en Maxi está por acá, si los podemos ver en el glosario .está muy bien el documento está abstracto. Está bien acompleto, verdad? Este tenemos los tipos de cambio referencia y Trade es el tipo de cambio de referencia Esta es una de las de las que vas a escuchar mucho en el documento se establece en el día para cualquier moneda que se esté operando .este lo establece ventas el Lo ponen en el transcurso del día no sé 11 o 12 del día este Pon el tipo de cambio está por ejemplo hoy hoy 6 de 7 de junio. La moneda está $17 mexicano El dólar. Está a $17 mexicanos y .el dólar está a $3000 colombianos, no por decir algo entonces esa referencia la establecen en ventas y pues está, está No eso es uno de los tipos de cambio que existe otro tipo de cambio es el que se le da al cliente .esto es que la gente le ofrece al cliente Haz de cuenta el agente saber en cuánto está el tipo de cambio en Maxi O sea la referencia y dice Okay está bien Nos Alomejor 18, Entonces yo tengo. Un Rango Para ofrecerle al cliente A lo mejor este .se lo puedo dejar en un poco más barato para que me haga el envío por Maxi porque a lo mejor el agente las agencias Tienen varias remesadoras, o sea, por ejemplo tienen una computadora para Maxi y tienen otra lo mejor para arriba y tienen otra para otra otra está de envío de remesas, no .Entonces qué qué hace? Pues si el representante le dice a la gente Oye este tenemos para jugar con el tipo de cambio es puedes estar entre esto para que el cliente pues lo haga por nosotros no Entonces se la gente dice .Okay cliente tengo el el tipo de cambio a tanto este para pues para dárselo más barato y que lo envié por nuestro lado no Entonces ahí es donde el agente juega con este tipo de cambio y al final es este. .Este él va a ser parte de la fórmula del costo, no por acá tenemos otro, Qué es el Chase wright, Qué es el tipo de cambio que Maxi le da a la gente O sea Maxi tiene un cambio de referente para cambiar referencia, pero la gente le da, por ejemplo Maxi dice hoy la moneda mexicana. Está a $17 Pero .sabes Maxi comprar también tiene esa ese que hace como como compra de monedas de hacer ese tipo de cosas, entonces puede agarrar lo más barato en la bolsa, entonces con esa con esa parte que le sale de ventaja puede jugar con el tipo de cambio, es así lo hicieran como cualquier casa cambio, pues no verdad, pero es el área de finanzas, tiene esa parte de que o sea tengo $10000. .Pues este, pues voy a comprar tanto para que me lo dejen más barato Entonces ya tiene como que una ganancia Maxi y sobre esa ganancia, pues Define hoy agente te lo voy a dejar poquito más barato de lo que está realmente para que tú puedas este jugar con la con la diferencia con el ají con el cliente no .sé si él sí Maxi le da no sé a lo mejor a la gente, Sí ahorita al mercado está en 17 y más A lo mejor lo agarren 16 Entonces si le dice agente te lo doy en 1650 Entonces por decir algo no parece que la gente ya lo tiene A eso y dice Okay no tengo 1650 en el mercado está 17. .Cliente te la ofrezco en 1675 sea algo así no como un la mitad para que yo esté carne con 25centavos y el cliente también tenga 25centavos de ventaja o a lo mejor este sí sí, está en el mercado en 17, pero las otras remesadoras lo tienen a .17100 mejor. Yo se lo dejo a 17 yo a gente, no? Entonces ya de eso ese tipo de negociaciones, pues ya las hacen ellos, no, pero este sí debe que dan poquito Claro que pues referencia es la que pone Maxi a todos .Esta es la que la gente le da al cliente y esta es la que Maxi le da a la gente bueno, a partir de esto tenemos el coche, que el coco es el cost of goods sold, Qué es el costo de lo vendido, su fórmula es .Element lo que envió el cliente por el tipo de cambio que la agencia le dio al cliente gustó más extenso sobre la referencia si el cliente vendió En $1000 envío $1000 Entonces yo se lo di yo agencia se lo di al cliente a $17, .por ejemplo está enviando $1000 a México No yo se lo di a $17, pues ya sacó el tipo del cambio, no y lo divido entre lo que realmente está y ahí sale el costo si me explico estas columnas están en transfer y en transfer Close a Mount in dollars. .Este costo me echen Rey es una columna que se llama Xtrail como tal xtrade algo así y esto se llama referencia de hecho por aquí debo de detener. Vamos a ser verdaderamente. Ejemplo por aquí tenemos el .Xtrail se llama la columna. Aquí está este Xtrail es el tipo de cambio que la agencia le da al cliente y esta es la referencia de Maxi en este caso son iguales una de 100. un poco lento Okay entonces aquí, por ejemplo, tenemos .todo lo que vas a ocupar viene de transfer, no le transferí transglobe ejemplo aquí, mira que hay una pequeña diferencia Aquí también Entonces tenemos. La referencia de Maxi es 24342 es a lo mejor Maxi la Isa la gente .este a nivel general están 2434 a lo mejor se le dice a la hay, hay agentes a los que se les da cierto ciertos, este comisión. Eso se dice les hace alguna descuento en el en el tipo de cambio por negociación del representante Con el agente, No .eso va a venir en una tabla por ahí, que se llama especial comisión, entonces este bueno Total que aquí le hice Este es el de referencia Este es el que se le dio al cliente, pues qué vas hacer, pues agarras el a monin dólar .por lo que se le dio al cliente y lo vas a dividir entre esto y eso que va a salir aquí es nuestro costo. Así es el coxis, es básicamente es este sobre este y luego eso sí, no seas poquitito diferente Es muy poco, va a salir poco el costo. Entonces .así es Cómo se determina el Cox luego tenemos una columna que se llama Flex Qué es el monto que la gente ajusta al tipo de cambio por el monto de transacción puede ser positivo cuando baja o negativo cuando lo sube, por ejemplo, el tipo de cambio para el agente las fórmulas Flex es tipo de cambio .para el agente menos el tipo de cambio establecido por el agente por a Mount ahorita lo vamos a ver aquí Bueno aquí este. Amón en dólar tipo de cambio de la gente sobre tipo de cambio la gente por acá todavía no llegamos a esa columna se me hacen .estamos dónde estamos. Okay bueno el Cox pues alcobas va a funcionar igual no esté va a ser sobre las transacciones brutas Me escuchas como que medio se apagó la compu, que sé, es que me está fallando la carga ya la reporte y pensé que se había pagado, me asusté, pero ya .esté, tenemos por aquí el coco el coco tal Qué es el bluetooth, que se va a sacar sobre las transacciones que llevan de la de Qué son totales, no? Entonces alamán. Pasar sobre eso y este, pues aquí dice el costo es el envío el custom alexidroid se hace la conversión de la transacción del tipo de cambio, Pues es lo mismo que ya leímos, por ejemplo César tiene un envío de $100 y el tipo de cambio 19 y el costo .extra es de 18.80 la transacción quedaría en 1880. Esto se convierte a dólares el tipo de cambio de referencia, por ejemplo, aquí sería Cox igual a este, pues no $100 por 1880 serían 1886 dividía entre los 19, no? Sí .aquí está en segunda. Bueno aquí viendo la fórmula sería lo que te comento los $100 por los 1880 sobre la referencia que el 19 y lo mismo sobre las transacciones brutas estos sobre los cancelados y luego los de los rechazados no le laman Qué es rechazado, .por ejemplo si en esta columna de amante rechazado bien en $20 Entonces el Cox va a ser $20 por el tipo de cambio que se le dio este y sobre la referencia. aunque esto se tiene que como el extensor puede cambiar de una transacción a otra y .Y todo entonces yo tiene que hacerse, pues la entrada a nivel transacción, no. Y yo lo que recomendaría es eso que empezáramos de lo más detallado a lo más a lo más general agrupado, no? Porque en este momento lo piden agrupados y sale un reporte de súper chiquito y todo no, .pero ya me ha tocado que piden muchas variantes de este reporte, sabes que ocupa el profe, pero este como lo que te comenté ocupo que me lo saques, pero por rangos en este momento se les ocurre de 300 a $500, pero en un par de días se les ocurre de 500 a $1000 y después ya no lo ocupan y se les olvida que lo usaron y ya, o sea, como, que para pruebas o para sacar casos muy particulares, .entonces Este sí me gustaría si puedes ayudarme, porfa. Pon dejarlo como que de una forma estructurada lista para para que cualquier tipo de filtro cambio que pidan que no esté dentro de la dentro de los requerimientos .sea fácil meterlo si me explico leyendo y escuchándote y conforme a lo que estado viendo yo creo que sí sería un buen momento para empezar a usar el modelo nuevo Lupita porque precisamente bien el documento que se menciona mucho que ahorita tienen problema lo que me dijiste Ahorita de que en una fuente es una cosa en otra fuente otra y ahorita me estás comentando que estaría bien dejar el reporte preparado para cambio de este estilo la solución es un modelo para las dos cosas es un modelo dimensional .es te lo iba a proponer que sí. Gustas, podemos ir a trabajar de esta forma que sería pues que yo tendría que crear una nueva base de datos donde yo tuviera el poder absoluto porque necesito querer un montón de cosas y en ese modelo de ese modelo sacarte este reporte eso lo puedo hacer, pero pues me voy a tomar un poquito más, pero si no no ahorita no, no quieres que trabajemos el modelo y volvamos a trabajar de la base actual también lo puedo hacer, pero pues va a ser como que hacer más de lo mismo más de lo que ya han hecho Qué es un nuevo reporte con una nueva forma de sacar la lógica y luego va a llegar otra persona es pues nosotros con otro nuevo reporte y creo que es lo que les ha estado pasando cada que hayan tiene requerimientos rehace su manera y luego llega alguien más ya no le cuadro con el otro porque tiene reglas diferentes Pues yo creo que la forma de empezar a trabajar, así tal cual como lo menciona el documento es empezar a trabajar en un nuevo modelo y qué pasaría que cada que se va integrando un nuevo reporte se va ajustar al modelo que se está haciendo o el modelo se ajusta el reporte y en esa forma. .vamos creciendo el de la Warehouse empezando de un reporte como Estoy totalmente de acuerdo, pero aquí lo que lo que si es que lo quieren en tiempo real, entonces tiene que salir de productivo Okay muy bien Perfecto Lupita lo entiendo, entonces déjame, déjame ver y yo bueno, es que ya tengo una cuestión que dices que no lo tome en cuenta me va a ser un poco para ver de dónde están sacando los conceptos, pues sobre todo, por ejemplo, no sé de transfer cancelado transfer retrasado como en el código viene ahí, mami, si me va ayudar mucho para ver la lógica como lo sacaron o lo voy a estructurar así como dices o sea, como me dijiste esa mente que Lo sacara lo que voy a intentar es que se reporte de Corre mucho más rápido y que sea mucho menos código que sea un código que quede más claro para que sea menos complicado precisamente agregarlos los filtros y si me late muy bien Ahora sí nos dice que se va a pagar hoy estoy viendo Dios .Ya te lo marco y está conectada Bueno pues vamos a ver cuánto me haces así de repente. Me dejas Escuchar ya sabes no, 6% O por Dios y él lo que tengo código, puedo empezar O sea ya tengo todo lo que necesito y Hoy mismo empiezo Cómo ves, .porfa, sí, excelente de hecho, pues selfie es lo mismo, No ya vienen transacciones Me escuchas Ya ya valí, ya viene Pues él. Si vienen transacciones también y es lo mismo cancelado rechazados este, pues si quieres puedes empezar por armar esta parte de la de la tabla hasta aquí. .Y si tienes alguna duda con los demás este, pues ya los vamos viendo en una sesión tal cual lo que hago yo en este tipo de reportes que empiezo armarlos así de cómo los tienes numerados del 1 en adelante te estoy diciendo ya quedó ya quedó Así es como como ustedes en mi escuela y si voy Armando el rompecabezas .Entonces ya voy a seguir el orden de choque que ves ahí ya te voy a ir platicando donde me atoré tenga perfecto Cualquier cosa, pues tú me dices no va que va Muchas gracias Carlos es que estamos pendiente Ahí me mandas la la el traste de esta junta, cuando puedas sale, porfa, sí, creo que se envía automáticamente voy ahora le digo a este no te llega, me dices .gracias, que estés bien igualmente Bye ."